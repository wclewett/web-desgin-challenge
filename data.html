<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="UTF-8">
        <title>Data</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    </head>
    <body style="background-color: rgb(226, 202, 158);">
      <!--Javascript Functionality for Navbar-->
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
        <!--Nav Bar-->
        <nav class="navbar navbar-expand navbar-dark bg-primary">
          <div class="container-fluid">
            <a class="navbar-brand" href="http://localhost:52330/landing.html">WeatherViz</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
              <ul class="navbar-nav">
                <li class="nav-item active">
                  <a class="nav-link" href="http://localhost:52330/landing.html">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" style="color: rgb(255, 255, 255);" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Visualizations
                  </a>
                  <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="http://localhost:52330/figure_1.html">Latitude vs Temp</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="http://localhost:52330/figure_2.html">Latitude vs Humidity</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="http://localhost:52330/figure_3.html">Latitude vs Cloudiness</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="http://localhost:52330/figure_4.html">Latitiude vs Wind Speed</a>
                  </div>
                <li class="nav-item">
                  <a class="nav-link" href="http://localhost:52330/data.html" style="color: rgb(255, 255, 255);">Data</a>
                </li>
              </ul>
            </div>
          </div>
          </nav>
          <br>
        <!-- Header Row -->
        <div class="container">
          <div class="row">
            <div class="col-lg-12">
              <h1 style="color: rgb(49, 58, 66);">
                API Call Process
              </h1>
              <hr style="background-color: rgb(19, 99, 202); height: 2px;">
            </div>
          
          <!--Code Display-->
          <div class="row">
            <div class="col-sm-6">
              <img src="resources/assets/random_city_code_snippet.PNG" id="fig1" width="100%" height="auto">
            </div>
            <div class="col-sm-6">
              First we used citypy to select a large set of cities randomly across the globe. In this example, citypy found approximately 630 cities and saved their name, latitude, and longitude.
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-sm-6">
              <img src="resources/assets/api_call_code_snippet.PNG" alt="" id="fig1" width="100%" height="auto">
            </div>
            <div class="col-lg-6">
              Next we used the OpenWeatherMap API to retrieve weather data on the first 550 cities that were hosted on OpenWeatherMap. Each of the found cities and their corresponding weather data
              were then stored in a Pandas DataFrame.
            </div>
          </div>
        </div>
        <br>
          <!--Header Row-->
        <div class="container">
          <div class="row">
            <div class="col-lg-12">
              <h1 style="color: rgb(49, 58, 66);">
                Dataset
              </h1>
              <hr style="background-color: rgb(19, 99, 202); height: 2px;">
            </div>
            <div class="container">
              <div class="table-responsive">
               <br />
               <div align="center">
                <button type="button" name="load_data" id="load_data" class="btn btn-info">Load Data</button>
               </div>
               <br />
               <div id="employee_table">
               </div>
              </div>
             </div>
        </div>
    </body>
</html>

<script>
  $(document).ready(function(){
   $('#load_data').click(function(){
    $.ajax({
     url:"cities.csv",
     dataType:"text",
     success:function(data)
     {
      var employee_data = data.split(/\r?\n|\r/);
      var table_data = '<table class="table table-bordered table-striped">';
      for(var count = 0; count<employee_data.length; count++)
      {
       var cell_data = employee_data[count].split(",");
       table_data += '<tr>';
       for(var cell_count=0; cell_count<cell_data.length; cell_count++)
       {
        if(count === 0)
        {
         table_data += '<th>'+cell_data[cell_count]+'</th>';
        }
        else
        {
         table_data += '<td>'+cell_data[cell_count]+'</td>';
        }
       }
       table_data += '</tr>';
      }
      table_data += '</table>';
      $('#employee_table').html(table_data);
     }
    });
   });
   
  });
  </script>